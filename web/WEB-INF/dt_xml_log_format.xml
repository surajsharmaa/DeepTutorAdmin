<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	Important considerations (to be reviewed):
	========================
	1. Log as much as possible, every detail is important.
	2. Easier to write (log).
	3. Machine readable.
	4. Proper link to task, configuration file, and dialog policy so that when needed, everything could be linked each other.
	5. Possible to extract some sections and present in the readable format (such as html).
	6. Just enough xml elements (Not too many elements). Having the common patten and only few elements, 
		such as section, record, attribute (k, v) would make developer's life easier - fewer logging functions (common format),
		less elements to remember while writing to the log file (i.e. logging details).
	7. Preference to shallower xml structure. Deeper xml would be informative but it could be difficult: 
		while writing, many xml elements than the actual content, when to close? etc., difficult to parse. 
		
	
	Discussion:
	1. Maybe little bit difficult to filter out details as only the few xml elements are being used. 
	   However, data filteration query can filter out information based on section, record label.
	2. How to handle list and other complex objects, such as key value pairs in the attribute value field.
	   Add data type field?
	3. Change section name to id?
	4. As discussed in the meeting, to avoid the malformed xml (if student leaves at the middle of somewhere), the 
	   section is one line tag without closing tag. However, to mark the opening and closing, add an attribute.
        5. The log files are created studentwise. Before login, log file will not be created. So, logging should start once student logs in
           to the system.

@author: rajendra Banjade, August 13, 2014       		
--> 
<log version="1.0">
	<section name="SystemInfo" label="System information" position="start"/>
		<record src="system" timestamp = "2014-08-12T20:10:59+00:00" label="info">
			<text> This log is generated by DeepTutor application running at dtserver1.memphis.edu </text>
			<attribute type="string" name="DeeptutorVersion" value="v1.0"/>
			<attribute type="string" name="ExperimentName" value="Summer 2014 Experiment"/>
			<attribute type="string" name="DeepTutorDataFolder" value="D:\data\DeeptutorData\Summer2014"/>
			<attribute type="string" name="..." value="..."/>
		</record>
	<section name="SystemInfo" position="end"/>
	
	<section name ="Configuration" label="Application configuration" position="start"/>	
		<record src="system" timestamp = "2014-08-12T20:10:59+00:00" label="config">
			<text> Auto generated key value list of configuration parameters. Some less informative items may be filtered out when displayed in Html format </text>
			<attribute type="string" name="similarityMethod" value="EnsembleMethod"/>
			<attribute type="string" name="similarityThreshold" value="0.5"/>
			<attribute type="string" name="demoTasks" value="LP00_PR00, LP00_PR01"/>
			<attribute type="list" name="lowKnowledgeTasks" value="LP00_PR00_LK, LP00_PR01_LK" />
			<attribute type="string" name="..." value="..." />
		</record>
	<section name ="Configuration" position="end"/>	

	<section name="Login" label="login details" position="start"/>
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="user">
			<text> </text>
			<attribute type="string" name="userId" value="id123"/>
			<attribute type="string" name="isDeveloper" value="yes"/>
			<attribute type="string" name="lastLoggedIn" value="2014-08-12T20:10:59+00:00"/>
			<attribute type="string" name="mode" value="adaptive"/>
			<attribute type="string" name="currentState" value="dialogue"/>
			<attribute type="string" name="dialoguePolicy" value="default"/>
			<attribute type="string" name="..." value="..."/>
		</record>
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="client">
			<text> </text>
			<attribute type="string" name="browser" value="chrome123"/>
			<attribute type="string" name="operatingSystem" value="windows7"/>
			<attribute type="list" name="cookie" value="key = cookiename, value= cookie value; key=ckey, value= cookie value"/>	
			<attribute type="string" name="..." value="..."/>
		</record>			
	<section name="Login" position="end"/>
	
	<section name="Reading" label="reading intro to newtonian physics" position="start"/>
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="time">
			<attribute type="string" name="readingStartTime" value="2014-08-12T20:10:59+00:00"/>
			<attribute type="string" name="readingEndTime" value="2014-08-12T20:10:59+00:00"/>
		</record>
	<section name="Reading" position="end"/>
	
    <!-- log: what is the correct answer, and what is the answer given by the student -->
	<section name="Pretest" label="Pretest includes 35 questions" position="start"/>
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="preTest">
			<attribute type="string" name="strand" value="FM"/>
			<attribute type="string" name="questionNumber" value="1"/>
			<attribute type="string" name="studentAnswer" value="B"/>
			<attribute type="string" name="expectedAnswer" value="B"/>
		</record>
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="preTest">
			<attribute type="string" name="strand" value="FM"/>
			<attribute type="string" name="questionNumber" value="2"/>
			<attribute type="string" name="studentAnswer" value="A"/>
			<attribute type="string" name="expectedAnswer" value="C"/>
		</record>
		<!-- ... -->
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="result">
			<attribute type="string" name="totalQuestions" value="35"/>
			<attribute type="string" name="correctAnswers" value="20"/>
			<attribute type="string" name="percentCorrect" value="57.14%"/>
		</record>
	<section name="Pretest" position="end"/>	

	<!-- section for dialogue state -->
	<section name="dialogue" label="Tutor and Student dialogues" position="start"/>
		<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="dialogueStart">
			<text> Dialogue initialization information </text>
			<attribute type="string" name="dialoguePolicy" value="policyFileName"/>
			<attribute type="string" name="knowledgeLevel" value="medium"/>
			<attribute type="list" name="assignedTasks" value="LP00_PR00_MK, LP00_PR01_MK"/>			
			<attribute type="string" name="finishedTasks" value=""/>
		</record>
		<!-- subsection, task wise -->
		<section name = "taskStart" position="start"/>
			<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="taskStart">
				<attribute type="string" name="taskId" value="LP00_PR00_MK"/>
				<attribute type="string" name="taskLastModified" value="2014-08-12T20:10:59+00:00"/>			
				<text> problem description </text>			
			</record>
			<!-- current state -->
			<record src="dm" timeStamp ="2014-08-12T20:10:59+00:00" label="stateTransition">
				<attribute type="string" name="currentState" value="taskStart"/>		
			</record>
			<record src="tutor" timeStamp ="2014-08-12T20:10:59+00:00" label="tutor">
				<attribute type="string" name="feedback" value=""/>
				<attribute type="string" name="question" value="What would be the net force acting on the meteor?"/>			
			</record>
			<record src="student" timeStamp ="2014-08-12T20:10:59+00:00" label="response">
				<attribute type="string" name="inputTextRaw" value="raw input, student input as is" />
				<attribute type="string" name="inputTextSpellChecked" value="spell checked input text" />
				<attribute type="string" name="inputTextPronounResolved" value="input after pronouns resolved" />
				<attribute type="string" name="speechAct" value="contribution">			
			</record>
			<!-- assessment subsection.. possibility of logging more details -->
			<section name="assessment" label = "Evaluation of student response " position="start"/>
				<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="expectations">
					<attribute type="list" name="soFarCoveredExpectations" value="1A,1D" />
					<attribute type="list" name="soFarUncoveredExpectations" value="1B,1C" />
				</record>
				<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="checkForRequiredAndForbidden">
					<attribute type="list" name="requiredWordsMatch" value="1A, 1C" />
					<attribute type="list" name="forbiddenWordsMatch" value="1B, 1D" />	
				</record>
				<record src="system" timeStamp ="2014-08-12T20:10:59+00:00" label="semanticSimilarity">
					<!-- similarity complete (student answer) - complete (expectation, variation is indexed as _1, _2 etc.-->
					<attribute type="string" name="similarityWith1A_1" value="0.64"/>
					<attribute type="string" name="similarityWith1A_2" value="0.44"/>
					<attribute type="string" name="similarityWith1A_3" value="0.58"/>
					<attribute type="string" name="similarityWith1B_1" value="0.3"/>
					<attribute type="string" name="similarityWith1B_2" value="0.0"/>	
					<!-- add partial match scores etc. -->
				</record>
			<section name="assessment" position="end"/>
			<!-- include state transition information -->
			<record src="dm" timeStamp ="2014-08-12T20:10:59+00:00" label="conditionsCheck">
				<text>checking conditions for pump to SequenceHint </text>
				<attribute type="string" name="currentState" value="Pump"/>
				<attribute type="string" name="checkingConditionsFor" value="SequenceHint"/>
				<attribute type="list" name="conditions" value = "!correctAnswerToThePump :true, nextHintIsSequenceHint : false" />
				<attribute type="string" name="allConditionsSatisfied" value = "false" />
			</record>	
			<record src="dm" timeStamp ="2014-08-12T20:10:59+00:00" label="conditionsCheck">
				<text>checking conditions for pump to conditionalHint </text>
				<attribute type="string" name="currentState" value="Pump"/>
				<attribute type="string" name="checkingConditionsFor" value="conditionalHint"/>
				<attribute type="list" name="conditions" value = "!correctAnswerToThePump :true, nextHintIsConditionalHint : true" />
				<attribute type="string" name="allConditionsSatisfied" value = "true" />
			</record>
			<record src="dm" timeStamp ="2014-08-12T20:10:59+00:00" label="actions">
				<text> executing actions for pump to conditionalHint </text>
				<text> executing actionA </text>
				<text> executing actionB </text>
			</record>
			<record src="tutor" timeStamp ="2014-08-12T20:10:59+00:00" label="tutor">
				<attribute type="string" name="feedback" value="let me give you a hint"/>
				<attribute type="string" name="question" value="Which Newton's law is relevant in this scenario?"/>			
			</record>
			
			<!-- student, tutor dialog continues -->
			
			<!-- task is finished -->
		<section name = "taskStart" position="end"/>
		<!-- start another task, start another section -->
		<section name = "taskStart" position="start"/>
		
		
		<section name = "taskStart" position="end"/>
	<!-- all tasks finished? dialogue section ends here -->	
	<section name="dialogue" position="end"/>
</log>
